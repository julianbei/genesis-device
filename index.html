<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Genesis Device - Terrain Generator</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        font-family: Arial, sans-serif;
        background: #000;
      }
      
      #app {
        width: 100vw;
        height: 100vh;
        display: block;
      }
      
      .ui {
        position: absolute;
        top: 10px;
        left: 10px;
        color: white;
        z-index: 100;
        background: rgba(0, 0, 0, 0.8);
        padding: 15px;
        border-radius: 8px;
        backdrop-filter: blur(5px);
        min-width: 280px;
        font-size: 14px;
      }
      
      .ui h3 {
        margin: 0 0 15px 0;
        color: #4CAF50;
      }
      
      .control-group {
        margin-bottom: 12px;
      }
      
      .control-group label {
        display: block;
        margin-bottom: 4px;
        font-weight: bold;
        color: #ddd;
      }
      
      .control-group input[type="range"] {
        width: 100%;
        margin-bottom: 2px;
      }
      
      .control-group input[type="number"] {
        width: 80px;
        padding: 4px;
        border: 1px solid #555;
        background: #333;
        color: white;
        border-radius: 4px;
      }
      
      .range-labels {
        display: flex;
        justify-content: space-between;
        font-size: 11px;
        color: #999;
        margin-bottom: 8px;
      }
      
      .value-display {
        font-size: 12px;
        color: #4CAF50;
        margin-left: 8px;
      }
      
      .generate-btn {
        width: 100%;
        padding: 10px;
        background: #4CAF50;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-weight: bold;
        margin-top: 10px;
      }
      
      .generate-btn:hover {
        background: #45a049;
      }
      
      .generate-btn:disabled {
        background: #666;
        cursor: not-allowed;
      }
      
      .grid-controls {
        display: flex;
        gap: 10px;
      }
      
      .grid-controls input {
        flex: 1;
      }
      
      .control-group select {
        width: 100%;
        padding: 6px;
        border: 1px solid #555;
        background: #333;
        color: white;
        border-radius: 4px;
        font-size: 14px;
      }
      
      .control-group input[type="checkbox"] {
        accent-color: #4CAF50;
        transform: scale(1.2);
        margin-right: 8px;
        vertical-align: middle;
      }
      
      /* Progress Modal */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(3px);
        z-index: 1000;
        display: none;
        align-items: center;
        justify-content: center;
      }
      
      .modal-overlay.show {
        display: flex;
      }
      
      .progress-modal {
        background: linear-gradient(135deg, #1a1a1a, #2d2d2d);
        border: 1px solid #4CAF50;
        border-radius: 12px;
        padding: 30px;
        min-width: 400px;
        text-align: center;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      }
      
      .progress-title {
        font-size: 20px;
        font-weight: bold;
        color: #4CAF50;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }
      
      .progress-step {
        font-size: 14px;
        color: #ccc;
        margin-bottom: 15px;
        min-height: 20px;
      }
      
      .progress-bar-container {
        background: #333;
        border-radius: 10px;
        overflow: hidden;
        margin-bottom: 15px;
        height: 20px;
        position: relative;
      }
      
      .progress-bar {
        background: linear-gradient(90deg, #4CAF50, #45a049);
        height: 100%;
        width: 0%;
        transition: width 0.3s ease;
        border-radius: 10px;
      }
      
      .progress-percentage {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 12px;
        font-weight: bold;
        color: white;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
      }
      
      .spinner {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 2px solid #333;
        border-radius: 50%;
        border-top-color: #4CAF50;
        animation: spin 1s ease-in-out infinite;
      }
      
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
    </style>
  </head>
  <body>
    <div class="ui">
      <h3>🌄 Genesis Device</h3>
      
      <div class="control-group">
        <label>Seed</label>
        <input type="number" id="seed" value="1337" min="1" max="9999">
      </div>
      
      <div class="control-group">
        <label>Grid Size</label>
        <div class="grid-controls">
          <input type="number" id="rows" value="2" min="1" max="4" placeholder="Rows">
          <input type="number" id="cols" value="3" min="1" max="6" placeholder="Cols">
        </div>
      </div>
      
      <div class="control-group">
        <label>Biome Type</label>
        <select id="biome" style="width: 100%; padding: 6px; border: 1px solid #555; background: #333; color: white; border-radius: 4px;">
          <option value="temperate">🌲 Temperate (Hills & Valleys)</option>
          <option value="alpine">🏔️ Alpine (Mountains)</option>
          <option value="desert">🏜️ Desert (Dunes & Mesas)</option>
        </select>
      </div>
      
      <div class="control-group">
        <label>
          <input type="checkbox" id="showTiles" style="margin-right: 8px;">
          Show Tile Borders
        </label>
      </div>
      
      <div class="control-group">
        <label>
          <input type="checkbox" id="showWater" style="margin-right: 8px;" checked>
          Show Water & Rivers
        </label>
      </div>
      
      <div class="control-group">
        <label>Terrain Size <span class="value-display" id="amplitude-value">Medium</span></label>
        <input type="range" id="amplitude" min="0.05" max="1.0" step="0.05" value="0.22">
        <div class="range-labels"><span>🏔️ Flat</span><span>🗻 Huge Mountains</span></div>
      </div>
      
      <div class="control-group">
        <label>Detail Level <span class="value-display" id="frequency-value">Medium</span></label>
        <input type="range" id="frequency" min="0.5" max="4.0" step="0.1" value="1.6">
        <div class="range-labels"><span>🌊 Smooth</span><span>🗿 Very Detailed</span></div>
      </div>
      
      <div class="control-group">
        <label>Complexity <span class="value-display" id="octaves-value">Medium</span></label>
        <input type="range" id="octaves" min="1" max="8" step="1" value="5">
        <div class="range-labels"><span>🎯 Simple</span><span>🌀 Very Complex</span></div>
      </div>
      
      <div class="control-group">
        <label>Organic Shape <span class="value-display" id="warp-value">Low</span></label>
        <input type="range" id="warp" min="0.0" max="0.5" step="0.02" value="0.1">
        <div class="range-labels"><span>📐 Geometric</span><span>🌊 Flowing</span></div>
      </div>
      
      <div class="control-group">
        <label>Mountain Height <span class="value-display" id="height-value">900m</span></label>
        <input type="range" id="height" min="200" max="2000" step="50" value="900">
        <div class="range-labels"><span>🏡 Small Hills</span><span>🏔️ Giant Peaks</span></div>
      </div>
      
      <div class="control-group">
        <label>Sea Level <span class="value-display" id="sealevel-value">+23m</span></label>
        <input type="range" id="sealevel" min="-50" max="100" step="5" value="23">
        <div class="range-labels"><span>🌊 Deep Ocean</span><span>🏔️ High & Dry</span></div>
      </div>
      
      <div class="control-group">
        <label>Erosion Time <span class="value-display" id="erosion-value">500 years</span></label>
        <input type="range" id="erosion" min="0" max="10000" step="100" value="500">
        <div class="range-labels"><span>🗿 Pristine</span><span>🌊 Ancient</span></div>
      </div>
      
      <button class="generate-btn" id="generate">🔄 Generate Terrain</button>
      
      <p style="font-size: 11px; color: #888; margin-top: 15px; margin-bottom: 0;">
        Controls: Mouse to rotate camera, scroll to zoom
      </p>
    </div>
    
    <!-- Progress Modal -->
    <div class="modal-overlay" id="progressModal">
      <div class="progress-modal">
        <div class="progress-title">
          <div class="spinner"></div>
          🌄 Generating Terrain
        </div>
        <div class="progress-step" id="progressStep">Initializing...</div>
        <div class="progress-bar-container">
          <div class="progress-bar" id="progressBar"></div>
          <div class="progress-percentage" id="progressPercentage">0%</div>
        </div>
      </div>
    </div>
    
    <canvas id="app"></canvas>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>